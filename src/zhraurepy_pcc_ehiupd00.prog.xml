<?xml version="1.0" encoding="utf-8"?>
<abapGit version="v1.0.0" serializer="LCL_OBJECT_PROG" serializer_version="v1.0.0">
 <asx:abap xmlns:asx="http://www.sap.com/abapxml" version="1.0">
  <asx:values>
   <PROGDIR>
    <NAME>ZHRAUREPY_PCC_EHIUPD00</NAME>
    <SUBC>1</SUBC>
    <RSTAT>K</RSTAT>
    <RLOAD>E</RLOAD>
    <FIXPT>X</FIXPT>
    <UCCHECK>X</UCCHECK>
   </PROGDIR>
   <TPOOL>
    <item>
     <ID>I</ID>
     <KEY>001</KEY>
     <ENTRY>Jobs Selection</ENTRY>
     <LENGTH>24</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>002</KEY>
     <ENTRY>Process Selection</ENTRY>
     <LENGTH>25</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>003</KEY>
     <ENTRY>Cancelled Payroll Process Batch Jobs</ENTRY>
     <LENGTH>78</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>004</KEY>
     <ENTRY>Step</ENTRY>
     <LENGTH>14</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>005</KEY>
     <ENTRY>Add Employees to Event Handler</ENTRY>
     <LENGTH>60</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>006</KEY>
     <ENTRY>Number of Jobs           :</ENTRY>
     <LENGTH>52</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>007</KEY>
     <ENTRY>                 Employees :</ENTRY>
     <LENGTH>42</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>008</KEY>
     <ENTRY>Employees from Selected Cancelled Jobs</ENTRY>
     <LENGTH>76</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>010</KEY>
     <ENTRY>Error in identifying process instance id for the job</ENTRY>
     <LENGTH>104</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>011</KEY>
     <ENTRY>No Jobs found for the Selection</ENTRY>
     <LENGTH>62</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>S01</KEY>
     <ENTRY>From Date</ENTRY>
     <LENGTH>19</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>S02</KEY>
     <ENTRY>To</ENTRY>
     <LENGTH>12</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>S03</KEY>
     <ENTRY>From Time</ENTRY>
     <LENGTH>19</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>S04</KEY>
     <ENTRY>To</ENTRY>
     <LENGTH>12</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>T01</KEY>
     <ENTRY>Jobs Selection</ENTRY>
     <LENGTH>42</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>T02</KEY>
     <ENTRY>Date / Time</ENTRY>
     <LENGTH>21</LENGTH>
    </item>
    <item>
     <ID>I</ID>
     <KEY>T03</KEY>
     <ENTRY>-</ENTRY>
     <LENGTH>11</LENGTH>
    </item>
    <item>
     <ID>R</ID>
     <ENTRY>Event Handler table Update for cancelled jobs Employees</ENTRY>
     <LENGTH>55</LENGTH>
    </item>
    <item>
     <ID>S</ID>
     <KEY>P_PROCID</KEY>
     <ENTRY>Process</ENTRY>
     <LENGTH>15</LENGTH>
    </item>
    <item>
     <ID>S</ID>
     <KEY>P_PROCNM</KEY>
     <ENTRY>Name</ENTRY>
     <LENGTH>12</LENGTH>
    </item>
   </TPOOL>
   <I18N_TPOOL>
    <item>
     <LANGUAGE>D</LANGUAGE>
     <TEXTPOOL>
      <item>
       <ID>R</ID>
       <ENTRY>Spool: Merge reports by title</ENTRY>
       <LENGTH>48</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>001</KEY>
       <ENTRY>Auftragsattribute</ENTRY>
       <LENGTH>24</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>002</KEY>
       <ENTRY>Dynamische Attribute</ENTRY>
       <LENGTH>26</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>003</KEY>
       <ENTRY>Auftragsstatus</ENTRY>
       <LENGTH>22</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>004</KEY>
       <ENTRY>Sortierkriterium</ENTRY>
       <LENGTH>24</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>005</KEY>
       <ENTRY>Ausgabeattribute</ENTRY>
       <LENGTH>24</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>006</KEY>
       <ENTRY>Auftragsselektion</ENTRY>
       <LENGTH>24</LENGTH>
      </item>
      <item>
       <ID>I</ID>
       <KEY>100</KEY>
       <ENTRY>Kein Spoolauftrag selektiert.</ENTRY>
       <LENGTH>38</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>ATTR1</KEY>
       <ENTRY>Attribut 1</ENTRY>
       <LENGTH>18</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>ATTR2</KEY>
       <ENTRY>Attribut 2</ENTRY>
       <LENGTH>18</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>ATTRS</KEY>
       <ENTRY>Sortierattribut</ENTRY>
       <LENGTH>23</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>AUTH</KEY>
       <ENTRY>Berechtigung</ENTRY>
       <LENGTH>20</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>CRETIME</KEY>
       <ENTRY>Früheste Erzeugungszeit</ENTRY>
       <LENGTH>31</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>DEST</KEY>
       <ENTRY>Ausgabegerät</ENTRY>
       <LENGTH>20</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>DOMARK</KEY>
       <ENTRY>Markierung</ENTRY>
       <LENGTH>18</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>DOPRNT</KEY>
       <ENTRY>Spoolauftrag erzeugen?</ENTRY>
       <LENGTH>30</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>DOSORT</KEY>
       <ENTRY>Sortieren?</ENTRY>
       <LENGTH>18</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>DOTOC</KEY>
       <ENTRY>Inhaltsverzeichnis für Parts?</ENTRY>
       <LENGTH>37</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>FINAL</KEY>
       <ENTRY>Spool-Auftrag ist abgeschlosse</ENTRY>
       <LENGTH>38</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>JOB</KEY>
       <ENTRY>Sofortdruck</ENTRY>
       <LENGTH>19</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>NAME0</KEY>
       <ENTRY>Spool-Auftragsname</ENTRY>
       <LENGTH>26</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>NAME1</KEY>
       <ENTRY>Suffix1</ENTRY>
       <LENGTH>15</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>NAME2</KEY>
       <ENTRY>Suffix2</ENTRY>
       <LENGTH>15</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>OWNER</KEY>
       <ENTRY>Benutzername</ENTRY>
       <LENGTH>20</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>RQAUTH</KEY>
       <ENTRY>Berechtigung</ENTRY>
       <LENGTH>20</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>RQCOPIES</KEY>
       <ENTRY>Anzahl der Ausdrucke</ENTRY>
       <LENGTH>28</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>RQDEST</KEY>
       <ENTRY>Ausgabegerät</ENTRY>
       <LENGTH>20</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>TITLE</KEY>
       <ENTRY>Titel oder Spool-Auftragsname</ENTRY>
       <LENGTH>37</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>UNUSED</KEY>
       <ENTRY>Nicht Teil eines Auftrags</ENTRY>
       <LENGTH>33</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>VAL1</KEY>
       <ENTRY>Wert von Attribut 1</ENTRY>
       <LENGTH>27</LENGTH>
      </item>
      <item>
       <ID>S</ID>
       <KEY>VAL2</KEY>
       <ENTRY>Wert von Attribut 2</ENTRY>
       <LENGTH>27</LENGTH>
      </item>
     </TEXTPOOL>
    </item>
   </I18N_TPOOL>
   <LONGTEXTS>
    <item>
     <DOKIL>
      <ID>RE</ID>
      <OBJECT>ZHRAUREPY_PCC_EHIUPD00</OBJECT>
      <LANGU>E</LANGU>
      <TYP>E</TYP>
      <VERSION>0003</VERSION>
      <MASTERLANG>X</MASTERLANG>
      <TXTLINES>00072</TXTLINES>
      <DOKSTATE>R</DOKSTATE>
     </DOKIL>
     <HEAD>
      <TDOBJECT>DOKU</TDOBJECT>
      <TDNAME>ZHRAUREPY_PCC_EHIUPD00</TDNAME>
      <TDID>RE</TDID>
      <TDSPRAS>E</TDSPRAS>
      <TDFORM>S_DOCU_SHOW</TDFORM>
      <TDSTYLE>S_DOCUS1</TDSTYLE>
      <TDVERSION>00003</TDVERSION>
      <TDLINESIZE>072</TDLINESIZE>
     </HEAD>
     <LINES>
      <TLINE>
       <TDFORMAT>U1</TDFORMAT>
       <TDLINE>&amp;PURPOSE&amp;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Event Handler update for cancelled payroll jobs in the background</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>processed by user: ZPCC_DAEMON</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>This program is intended to read only cancelled PCC payroll driver jobs</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>on the current day.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Some of the parameters are defaulted accordingly and at the same time</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>allows users to select specific jobs as well as time period</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Selection Screen</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>1.,,All Payroll Areas Payroll Driver Jobs</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>2.,,User Name as PCC Batch user name</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>3.,,Start date and Start Time as Current day</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Program Logic</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Read all cancelled batch jobs as per the selection using standard SAP</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>function BP_JOB_SELECT and then filter out  payroll driver jobs by</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>reading the step details of those batch jobs from table TBTCP. After</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>sorting the list by start date, time and name, all selected jobs are</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>then presented to the user for the next steps.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>Step List and Variant Details</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>Users have the option to view steps of the jobs and their variant</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>details similar to SM37 transactions. In this case the program is using</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>standard SAP function BP_STEPLIST_EDITOR hence the process is very</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>similar to standard SAP transaction SM37. As usual users can select only</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>one job at a time to view steps and their variant details.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>Once proper jobs are identified users can select those jobs and then</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>click on the button “Add Employees to Event Handler “ to add all</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>employees from those jobs to the event handler table for a reprocess.</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE> In this case the program performs the following steps to complete the</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>process.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>U1</TDFORMAT>
       <TDLINE>BACKGROUND</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>The cancelling of a job can occur for many reasons and the standard</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>approach is that the user would need to go back in the PCC process and</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>repeat the ‘Create Test Payroll Data’ step to rerun payrolls for all</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>employees</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>To support the design of the PCC solution for Woolworths, there is a</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>requirement to be able to re-run all employees that are part of a</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>cancelled payroll simulation batch job without needing to go back in the</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>process and rerun the process step for all employees.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>A cancelled payroll job can occur during two different stages of</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>processing in PCC either during&lt;(&gt;,&lt;)&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>1.,,PCC process step for creating the test payroll data</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>2.,,Event handler processing that is triggered by mass data load such as</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>KRONOS time data interface.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>In both scenarios there are many employees being processed within each</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>batch job.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>With this enhancement the Payroll Operations user will be able to</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>progress with the PCC process step; or in the case of the event handler</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>processing, leave the process in the ‘Monitoring’ step. The user will</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>then run this utility program to reprocess all employees contained in</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>the errored batch job back through the event handler processing.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>NOTE: Normal troubleshooting will still be required to identify and</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>correct the employee causing the error.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>This custom utility program is required to identify any cancelled</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>payroll simulation jobs that have occurred during the running of Test</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>payroll</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>The time selection parameters entered in the program front screen will</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>id these cancelled jobs in the background.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>These payroll jobs can then be selected, the utility will then read in</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>the employee numbers from the batch jobs selection variant and then add</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>these employee numbers back into the event handler table for</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>reprocessing.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>Only jobs with a ‘Cancelled’ status will be presented. User to then</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>select the jobs as required and click ‘Add Employees to Event Handler’</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>to reprocess all employees contained within the batch job variant.</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>Program front screen will enable selection by&lt;(&gt;,&lt;)&gt;</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>·,,process template i.e. Job Name</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>·,,m”date and time</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>ZPCC_DAEMON processing user is defaulted</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
       <TDLINE>Authorization</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>The transaction code needs to be assigned to the  Payroll Advisor -</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>Operations and PCC  super user Service Delivery  and form part of:</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>·,,Process Management - PX-HR:WWXX_HRP_PY_CHG_PROCMGMT</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>*</TDFORMAT>
       <TDLINE>·,,PCC Super User - Backend Support (no PCC app access) -</TDLINE>
      </TLINE>
      <TLINE>
       <TDLINE>PX-HR:WWXX_SUP_PY_ADM_PCCSUPP</TDLINE>
      </TLINE>
      <TLINE>
       <TDFORMAT>AS</TDFORMAT>
      </TLINE>
     </LINES>
    </item>
   </LONGTEXTS>
  </asx:values>
 </asx:abap>
</abapGit>
